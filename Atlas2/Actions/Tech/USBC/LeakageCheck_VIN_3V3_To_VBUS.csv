Function,Inputs,Outputs,Retry,RetryHandler,OnError,SubSubTest,Conditions,ReturnOnFail,Notes
Parameters,,slotNum,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Set-PDVBUS-0V""}",,,,,,,,"set PDVBUS to 0v"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""pdvbus;off""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Common>delay,"{subsubtestname=""Delay-2000ms""}",,,,,,,,"Delay 2000ms"
,"+{delay=""2000""}",,,,,,,,
,"+{unit=""ms""}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/DUTCmd>sendCmdAndParse,"{subsubtestname=""Read-VIN3V3_Voltage""}",,,,,,,,"Read BIST ldo7 Voltage"
,"+{dutPluginName=""Kis_dut""}",,,,,,,,
,"+{channelPluginName=""Kis_channelPlugin""}",,,,,,,,
,"+{Timeout=""10""}",,,,,,,,
,"+{Commands=""pmuadc --read vout_ldo7""}",,,,,,,,
,"+{pattern=""vout_ldo7%: ([0-9.]+) mV""}",,,,,,,,
,"+{isparametric=""YES""}",,,,,,,,
,"+{record=""true""}",,,,,,,, 
Tech/Common>delay,"{subsubtestname=""Delay-500ms""}",,,,,,,,"delay 500ms"
,"+{delay=""500""}",,,,,,,,
,"+{unit=""ms""}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/DUTCmd>sendCmdAndParse,"{subsubtestname=""Send-Ace_leakage_CMD""}",ace_result,,,,,,,"ACE Enter S0 Status,rdar://112808243"
,"+{dutPluginName=""Kis_dut""}",,,,,,,,
,"+{channelPluginName=""Kis_channelPlugin""}",,,,,,,,
,"+{Commands=""ace --pick ATC0 --4cc LDCM --txdata ""0x80 0x00 0x00 0x00 0x00"";ace -r 0x6a""}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/USBC>readACEVoltage,"{subsubtestname=""Read-ADCMCVBUSVoltage""}",,,,,,,,"Put pdvbus off to get the ACE report Vbus voltage"
,"+{pattern=""0000000%:%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*(%w+)%s*%w(%w)""}",,,,,,,,
,"+{scale=""12""}",,,,,,,,
,"+{formula=""1.5*30/2^12""}",,,,,,,,
,"+{Input=ace_result}",,,,,,,,
,"+{calmode=""*""}",,,,,,,,
,"+{InnerCall=""YES""}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/USBC>readACEVoltage,"{subsubtestname=""Read-ADCMCPP5V0Voltage""}",,,,,,,,"Put pdvbus off to get the ACE report PP_5V0 voltage"
,"+{pattern=""0000000%:%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*(%w+)%s*%w(%w)""}",,,,,,,,
,"+{scale=""12""}",,,,,,,,
,"+{formula=""1.5*5/2^12""}",,,,,,,,
,"+{Input=ace_result}",,,,,,,,
,"+{calmode=""*""}",,,,,,,,
,"+{InnerCall=""YES""}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/USBC>readACEVoltage,"{subsubtestname=""Read-ADCMCPP5V0EXTCurrent""}",,,,,,,,"Put pdvbus off to get the ACE report PP_5V0 current"
,"+{pattern=""0000010%:%s*(%w+)%s*%w(%w)""}",,,,,,,,
,"+{scale=""12""}",,,,,,,,
,"+{formula=""1.5*1/2^12""}",,,,,,,,
,"+{Input=ace_result}",,,,,,,,
,"+{calmode=""*""}",,,,,,,,
,"+{InnerCall=""YES""}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/USBC>readACEVoltage,"{subsubtestname=""Read-ADCMCPPHVVoltage""}",,,,,,,,"Put pdvbus off to get the ACE report PP_HV voltage"
,"+{pattern=""0000010%:%s*%w+%s*%w+%s*%w+%s*%w+%s*(%w+)%s*%w(%w)""}",,,,,,,,
,"+{scale=""12""}",,,,,,,,
,"+{formula=""1.5*30/2^12""}",,,,,,,,
,"+{Input=ace_result}",,,,,,,,
,"+{calmode=""*""}",,,,,,,,
,"+{InnerCall=""YES""}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/USBC>readACEVoltage,"{subsubtestname=""Read-ADCMCPPHVCurrent""}",,,,,,,,"Put pdvbus off to get the ACE report PP_HV current"
,"+{pattern=""0000010%:%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*(%w+)%s*%w(%w)""}",,,,,,,,
,"+{scale=""12""}",,,,,,,,
,"+{formula=""1.5*1/2^12""}",,,,,,,,
,"+{Input=ace_result}",,,,,,,,
,"+{calmode=""*""}",,,,,,,,
,"+{InnerCall=""YES""}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/USBC>readACEVoltage,"{subsubtestname=""Read-ADCMCPPCABLEVoltage""}",,,,,,,,"Put pdvbus off to get the ACE report PP_CABLE voltage"
,"+{pattern=""0000010%:%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*(%w+)%s*%w(%w)""}",,,,,,,,
,"+{scale=""12""}",,,,,,,,
,"+{formula=""1.5*5/2^12""}",,,,,,,,
,"+{Input=ace_result}",,,,,,,,
,"+{calmode=""*""}",,,,,,,,
,"+{InnerCall=""YES""}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/USBC>readACEVoltage,"{subsubtestname=""Read-ADCMCCC1Voltage""}",,,,,,,,"Put pdvbus off to get the ACE report CC1_VCONN voltage"
,"+{pattern=""0000020%:%s*(%w+)%s*%w(%w)""}",,,,,,,,
,"+{scale=""12""}",,,,,,,,
,"+{formula=""1.5*5/2^12""}",,,,,,,,
,"+{Input=ace_result}",,,,,,,,
,"+{calmode=""*""}",,,,,,,,
,"+{InnerCall=""YES""}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/USBC>readACEVoltage,"{subsubtestname=""Read-ADCMCPPCABLECurrent""}",,,,,,,,"Put pdvbus off to get the ACE report PP_CABLE current"
,"+{pattern=""0000020%:%s*%w+%s*%w+%s*%w+%s*%w+%s*(%w+)%s*%w(%w)""}",,,,,,,,
,"+{scale=""12""}",,,,,,,,
,"+{formula=""1.5*1/2^12""}",,,,,,,,
,"+{Input=ace_result}",,,,,,,,
,"+{calmode=""*""}",,,,,,,,
,"+{InnerCall=""YES""}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/USBC>readACEVoltage,"{subsubtestname=""Read-ADCMCCC2Voltage""}",,,,,,,,"Put pdvbus off to get the ACE report CC2_VCONN voltage"
,"+{pattern=""0000020%:%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*(%w+)%s*%w(%w)""}",,,,,,,,
,"+{scale=""12""}",,,,,,,,
,"+{formula=""1.5*5/2^12""}",,,,,,,,
,"+{Input=ace_result}",,,,,,,,
,"+{calmode=""*""}",,,,,,,,
,"+{InnerCall=""YES""}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/USBC>readACEVoltage,"{subsubtestname=""Read-ADCMCVIN3V3Voltage""}",,,,,,,,"Put pdvbus off to get the ACE report VIN_3V3 voltage"
,"+{pattern=""0000020%:%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*%w+%s*(%w+)%s*%w(%w)""}",,,,,,,,
,"+{scale=""12""}",,,,,,,,
,"+{formula=""1.5*3/2^12""}",,,,,,,,
,"+{Input=ace_result}",,,,,,,,
,"+{calmode=""*""}",,,,,,,,
,"+{InnerCall=""YES""}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/USBC>readACEVoltage,"{subsubtestname=""Read-ADCMCVOUTLVVoltage""}",,,,,,,,"Put pdvbus off to get the ACE report VOUT_LV voltage"
,"+{pattern=""0000030%:%s*(%w+)%s*%w(%w)""}",,,,,,,,
,"+{scale=""12""}",,,,,,,,
,"+{formula=""1.5*3/2^12""}",,,,,,,,
,"+{Input=ace_result}",,,,,,,,
,"+{calmode=""*""}",,,,,,,,
,"+{InnerCall=""YES""}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/USBC>readACEVoltage,"{subsubtestname=""Read-ADCMCVDDIOVoltage""}",,,,,,,,"Put pdvbus off to get the ACE report VDDIO voltage"
,"+{pattern=""0000030%:%s*%w+%s*%w+%s*%w+%s*%w+%s*(%w+)%s*%w(%w)""}",,,,,,,,
,"+{scale=""12""}",,,,,,,,
,"+{formula=""1.5*2/2^12""}",,,,,,,,
,"+{Input=ace_result}",,,,,,,,
,"+{calmode=""*""}",,,,,,,,
,"+{InnerCall=""YES""}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Returns,ace_result,,,,,,,,
