Function,Inputs,Outputs,Retry,RetryHandler,OnError,SubSubTest,Conditions,ReturnOnFail,Notes
Parameters,,slotNum,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Set-VBATT_UVP-0V6""}",,,,,,,,"set VBATT UVP to 0.6v"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""VBATT_UVP_0V6;SET""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Set-VBATT_OVP-4V6""}",,,,,,,,"set VBATT OVP to 4.6v"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""VBATT_OVP_4V6;SET""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Set-VBATT_OCP-6A""}",,,,,,,,"set VBATT OCP to 3A"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""VBATT_OCP_6A;SET""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Set-PPVCC_MAIN_UVP-0V6""}",,,,,,,,"set VCCMAIN UVP to 0.6v"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""VCCMAIN_UVP_0V6;SET""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Set-VBUS_OVP-6V""}",,,,,,,,"set VBUS OVP to 6V"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""VBUS_OVP_6V;SET""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Set-VBUS_UVP-1V""}",,,,,,,,"set VBUS UVP to 1V"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""VBUS_UVP_1V;SET""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Set-VBUS_OCP-3A5""}",,,,,,,,"set VBUS OCP to 3.5A"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""VBUS_OCP_3A5;SET""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Set-VBAT-0V8""}",,,,,,,,"Set VBAT to 0.8v"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""BATT_0V8;ON""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Common>delay,"{subsubtestname=""Delay-30ms""}",,,,,,,,"delay 30ms"
,"+{delay=""30""}",,,,,,,,
,"+{unit=""ms""}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Measure-PPBATT_VCC""}",SafetyCheck0V8,,,,,,,"Measure VBATT value"
,"+{Commands=""read_voltage""}",,,,,,,,
,"+{args=""PPVBAT""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{conditionsRequired=""PASS;FAIL""}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Enable-VBAT_UVP""}",,,,,,,,"Enable VBATT UVP"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""VBATT_UVP_CTRL;ON""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Enable-PPVCC_MAIN_UVP""}",,,,,,,,"Enable VCC_MAIN UVP"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""VCCMAIN_UVP_CTRL;ON""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Check-IBAT_OCP_Status""}",,,,,,SafetyCheck0V8=='FAIL',,"Check-IBAT_OCP_Status"
,"+{Commands=""read_gpio""}",,,,,,,,
,"+{args=""IBAT_OCP_Fault_Flag""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Check-VBAT_UVP_Status""}",,,,,,SafetyCheck0V8=='FAIL',,"Check VBATT UVP_Status"
,"+{Commands=""read_gpio""}",,,,,,,,
,"+{args=""VBAT_UVP_Fault_Flag""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Check-PPVCC_MAIN_UVP_Status""}",,,,,,SafetyCheck0V8=='FAIL',,"Check VCC_MAIN UVP_Status"
,"+{Commands=""read_gpio""}",,,,,,,,
,"+{args=""PPVCCMAIN_UVP_Fault_Flag""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Check-VBAT_OVP_Status""}",,,,,,SafetyCheck0V8=='FAIL',,"Check VBATT OVP_Status"
,"+{Commands=""read_gpio""}",,,,,,,,
,"+{args=""VBAT_OVP_Fault_Flag""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Disable-VBATT_UVP""}",,,,,,,,"Disable VBATT UVP control"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""VBATT_UVP_CTRL;OFF""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Disable-PPVCC_MAIN_UVP""}",,,,,,,,"Disable VCC_MAIN UVP control"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""VCCMAIN_UVP_CTRL;OFF""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Connect-PPBATT_VCC_Discharge""}",,,,,,,,"VBAT Connect 100 ohm resistor to discharge"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""vbatt_discharge;connect""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Connect-PPVCC_MAIN_Discharge""}",,,,,,,,"PPVCC MAIN Connect 100 ohm resistor to discharge"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""ppvcc_main_discharge;connect""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Set-VBAT-0V""}",,,,,,,,"set VBATT to 0v"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""BATT_TO_0V;ON""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Common>delay,"{subsubtestname=""Delay-500ms""}",,,,,,,,"delay 500ms"
,"+{delay=""500""}",,,,,,,,
,"+{unit=""ms""}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Disconnect-PPBATT_VCC_Discharge""}",,,,,,,,"VBAT Disconnect the 100 ohm resistor discharge"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""vbatt_discharge;disconnect""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Disconnect-PPVCC_MAIN_Discharge""}",,,,,,,,"PPVCC MAIN Disconnect the 100 ohm resistor discharge"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""ppvcc_main_discharge;disconnect""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Returns,SafetyCheck0V8,,,,,,,,