Function,Inputs,Outputs,Retry,RetryHandler,OnError,SubSubTest,Conditions,ReturnOnFail,Notes
Parameters,,slotNum,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Set-VBATT_OCP-8A5""}",,,,,,,,"set VBATT OCP to 8.5A"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""VBATT_OCP_8A5;SET""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Set-VBATT_UVP-3V""}",,,,,,,,"set PPVCC UVP to 2V"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""VBATT_UVP_3V;SET""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Set-PPVCC_MAIN_UVP-3V""}",,,,,,,,"set PPVCC MAIN UVP to 2V"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""VCCMAIN_UVP_3V;SET""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Set-VBAT-4V2""}",,,,,,,,"set VBATT TO 4.2V"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""vbatt;on""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Common>delay,"{subsubtestname=""Delay-250ms""}",,,,,,,,"delay 250ms"
,"+{delay=""250""}",,,,,,,,
,"+{unit=""ms""}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Measure-PPBATT_VCC""}",SafetyCheck4V2,,,,,,,"Measure PPBATT voltage"
,"+{Commands=""read_voltage""}",,,,,,,,
,"+{args=""PPVBAT""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{conditionsRequired=""PASS;FAIL""}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Measure-IBAT""}",SafetyCheck4V2,,,,,SafetyCheck4V2 == "PASS",,"Measure IBAT"
,"+{Commands=""read_voltage""}",,,,,,,,
,"+{args=""IBAT""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{conditionsRequired=""PASS;FAIL""}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Enable-VBAT_UVP""}",,,,,,,,"Enable VBAT UVP control"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""VBATT_UVP_CTRL;ON""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Enable-PPVCC_MAIN_UVP""}",,,,,,,,"Enable PPVCC MAIN UVP control"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""VCCMAIN_UVP_CTRL;ON""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Check-IBAT_OCP_Status""}",,,,,,SafetyCheck4V2=="FAIL",,"read IBAT_OCP_Fault_Flag"
,"+{Commands=""read_gpio""}",,,,,,,,
,"+{args=""IBAT_OCP_Fault_Flag""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Check-VBAT_UVP_Status""}",,,,,,SafetyCheck4V2=="FAIL",,"read VBAT_UVP_Fault_Flag"
,"+{Commands=""read_gpio""}",,,,,,,,
,"+{args=""VBAT_UVP_Fault_Flag""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Check-PPVCC_MAIN_UVP_Status""}",,,,,,SafetyCheck4V2=="FAIL",,"read PPVCCMAIN_UVP_Fault_Flag"
,"+{Commands=""read_gpio""}",,,,,,,,
,"+{args=""PPVCCMAIN_UVP_Fault_Flag""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Check-VBAT_OVP_Status""}",,,,,,SafetyCheck4V2=="FAIL",,"read VBAT_OVP_Fault_Flag"
,"+{Commands=""read_gpio""}",,,,,,,,
,"+{args=""VBAT_OVP_Fault_Flag""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Disable-VBAT_UVP""}",,,,,,,,"Disable VBAT UVP control"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""VBATT_UVP_CTRL;OFF""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Disable-PPVCC_MAIN_UVP""}",,,,,,,,"Disable PPVCC MAIN UVP control"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""VCCMAIN_UVP_CTRL;OFF""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Connect-PPBATT_VCC_Discharge""}",,,,,,,,"VBAT Connect 10k ohm resistor to discharge"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""vbatt_discharge;connect""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Connect-PPVCC_MAIN_Discharge""}",,,,,,,,"PPVCC MAIN Connect 10k ohm resistor to discharge"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""ppvcc_main_discharge;connect""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Set-VBATT-0V""}",,,,,,,,"Set VBATT TO 0V"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""BATT_TO_0V;ON""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Common>delay,"{subsubtestname=""Delay-500ms""}",,,,,,,,"delay 500ms"
,"+{delay=""500""}",,,,,,,,
,"+{unit=""ms""}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Disconnect-PPBATT_VCC_Discharge""}",,,,,,,,"VBAT Disconnect the 10k ohm resistor discharge"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""vbatt_discharge;disconnect""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Fixture>sendFixtureCommand,"{subsubtestname=""Disconnect-PPVCC_MAIN_Discharge""}",,,,,,,,"PPVCC MAIN Disconnect the 10k ohm resistor discharge"
,"+{Commands=""relay_switch""}",,,,,,,,
,"+{args=""ppvcc_main_discharge;disconnect""}",,,,,,,,
,"+{slotNum=slotNum}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Returns,SafetyCheck4V2,,,,,,,,