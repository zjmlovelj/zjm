Function,Inputs,Outputs,Retry,RetryHandler,OnError,SubSubTest,Conditions,ReturnOnFail,Notes
Parameters,,Location_ID,,,,,,,
Tech/DUTCmd>sendCmdAndParse,"{subsubtestname=""Read-PMU_Fault1""}",,,,,,,,"sochot select abbey and read reg state"
,"+{expect=""OK""}",,,,,,,,
,"+{dutPluginName=""Kis_dut""}",,,,,,,,
,"+{channelPluginName=""Kis_channelPlugin""}",,,,,,,,
,"+{Timeout=""30""}",,,,,,,,
,"+{Commands=""reg select abbey;reg read 0x1002""}",,,,,,,,
,"+{pattern=""0x1002%s*=>%s*(0x%w+)""}",,,,,,,,
,"+{isparametric=""YES""}",,,,,,,,
,"+{attribute=""PMU_Fault1""}",,,,,,,,
,"+{record=""true""}",,,,,,,,
Tech/DUTCmd>sendCmdAndParse,"{subsubtestname=""Disable-SOCHOT_Reset""}",,,,,,,,'Disable SOCHOT reset action'
,"+{dutPluginName=""Kis_dut""}",,,,,,,,
,"+{channelPluginName=""Kis_channelPlugin""}",,,,,,,,
,"+{Timeout=""10""}",,,,,,,,
,"+{Commands=""device -k ThermalSensor -e sochot 1 off""}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/DUTCmd>sendCmdAndParse,"{subsubtestname=""Enable-SOCHOT_Reset""}",,,,,,,,'Enable SOCHOT reset when SOC temperature more than 10oC'
,"+{dutPluginName=""Kis_dut""}",,,,,,,,
,"+{channelPluginName=""Kis_channelPlugin""}",,,,,,,,
,"+{delimiter=""[m]""}",,,,,,,,
,"+{expect=""Applying tunables""}",,,,,,,,
,"+{Timeout=""60""}",,,,,,,,
,"+{Commands=""device -k ThermalSensor -e sochot 1 on 10""}",,,,,,,,
,"+{NotDiagsTriage=""YES""}",,,,,,,,
,"+{errorCheck=""NO""}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Common>detectKisUSBPort,"{subsubtestname=""Check-Kis_USB_Connected""}",,,,,,,,"check kis usb connected"
,"+{Commands=""ls /dev/cu.kis*""}",,,,,,,,
,"+{Location_ID=Location_ID}",,,,,,,,
,"+{dutPluginName=""Kis_dut""}",,,,,,,,
,"+{Timeout=""30""}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/EnterEnv>enterEnv,"{subsubtestname=""Read-Iboot_State""}",,,,,,,,'Catch key word to check if DUT enter recoverymode'
,"+{dutPlugin=""Kis_dut""}",,,,,,,,
,"+{channelPlugin=""Kis_channelPlugin""}",,,,,,,,
,"+{Timeout=""60""}",,,,,,,,
,"+{Commands=""iboot""}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/EnterEnv>enterEnv,"{subsubtestname=""Send-Enter_Diag_CMD""}",,,,,,,,'Send diags and capture the smile characters'
,"+{dutPlugin=""Kis_dut""}",,,,,,,,
,"+{channelPlugin=""Kis_channelPlugin""}",,,,,,,,
,"+{Timeout=""60""}",,,,,,,,
,"+{Commands=""diags""}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/DUTCmd>sendCmdAndParse,"{subsubtestname=""Read-PMU_Fault2""}",,,,,,,,"sochot select abbey and read reg state"
,"+{expect=""OK""}",,,,,,,,
,"+{dutPluginName=""Kis_dut""}",,,,,,,,
,"+{channelPluginName=""Kis_channelPlugin""}",,,,,,,,
,"+{Timeout=""30""}",,,,,,,,
,"+{Commands=""reg select abbey;reg read 0x1002""}",,,,,,,,
,"+{pattern=""0x1002%s*=>%s*(0x%w+)""}",,,,,,,,
,"+{isparametric=""YES""}",,,,,,,,
,"+{attribute=""PMU_Fault2""}",,,,,,,,
,"+{record=""true""}",,,,,,,,
