Function,Inputs,Outputs,Retry,RetryHandler,OnError,SubSubTest,Conditions,ReturnOnFail,Notes
Parameters,,dut_cfg,,,,,,,
Tech/DUTCmd>sendCmdAndParse,"{subsubtestname=""Send-SOC_INFO_CMD""}",soc_info,,,,,,,"send soc -p command"
,"+{dutPluginName=""Kis_dut""}",soc_p_resp,,,,,,,
,"+{channelPluginName=""Kis_channelPlugin""}",,,,,,,,
,"+{Timeout=""5""}",,,,,,,,
,"+{Commands=""soc -p""}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/DUTInfo>getStorageSize,"{subsubtestname=""Read-DRAM_Size""}",MEMORY_SIZE,,,,,,,Memory_Size=value/(1024) or value/(1024**3)
,"+{attribute=""DRAM_SIZE""}",,,,,,,,
,"+{pattern=""memctlr%-cfg%-size: ([0-9]+) MB""}",,,,,,,,
,"+{scale=""0""}",,,,,,,,
,"+{formula=""(2^10)""}",,,,,,,,
,"+{logFile=""kis_usb.log""}",,,,,,,,
,"+{Timeout=""3""}",,,,,,,,
,"+{calmode=""/""}",,,,,,,,
,"+{InnerCall=""YES""}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/Common>parseWithRegexString,"{subsubtestname=""Read-Fuse_Rev""}",fuse_rev,,,,,,,"read fuse rev"
,"+{attribute=""SOC_FUSE_REV""}",,,,,,,,
,"+{pattern=""fuse%-rev: ([0-9]+)""}",,,,,,,,
,"+{Input=soc_p_resp}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/SBin>checkBinFuseWithCFG,"{subsubtestname=""Check-Fuse_Rev""}",,,,,,,,"check SOC Fuse Rev,rdar://111669068"
,"+{cfg_pattern="".-%-.-%_.-(%-%w+)""}",,,,,,,,
,"+{cfgListPath=""/Users/gdlocal/Library/Atlas2/Assets/VendorSupportFiles/Bin_cfg.plist""}",,,,,,,,
,"+{bin_fuse=fuse_rev}",,,,,,,,
,"+{dut_cfg=dut_cfg}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/SBin>getSbinKey,"{subsubtestname=""Read-Sbin_Key""}",SbinKey,,,,,,,"get sbin 0 or 1"
,"+{attribute=""SBinKey""}",,,,,,,,
,"+{binFuseConfigFiles=""/Users/gdlocal/Library/Atlas2/Assets/BinFuseConfig/BinFuseConfig.csv""}",,,,,,,,
,"+{InputValues1=fuse_rev}",,,,,,,,
,"+{InputValues2=MEMORY_SIZE}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/SBin>SBinPreCheck,"{subsubtestname=""Compare-Sbin_Print-Sbin_write_1""}",SBin_status,,,,,,,"syscfg printbyte SBin"
,"+{dutPluginName=""Kis_dut""}",,,,,,,,
,"+{channelPluginName=""Kis_channelPlugin""}",,,,,,,,
,"+{attribute=""SBinValue""}",,,,,,,,
,"+{Commands=""syscfg printbyte SBin""}",,,,,,,,
,"+{Input=SbinKey}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/SBin>SBinWrite,"{subsubtestname=""Send-Sbin_Write_CMD""}",,,,,,SBin_status == "sbin_need_write",,"syscfg addbyte SBin"
,"+{dutPluginName=""Kis_dut""}",,,,,,,,
,"+{channelPluginName=""Kis_channelPlugin""}",,,,,,,,
,"+{Commands=""syscfg addbyte SBin""}",,,,,,,,
,"+{Input=SbinKey}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Tech/SBin>SBinPreCheck,"{subsubtestname=""Compare-Sbin_Print-Sbin_write_2""}",,,,,,SBin_status == "sbin_need_write",,"syscfg printbyte SBin"
,"+{dutPluginName=""Kis_dut""}",,,,,,,,
,"+{channelPluginName=""Kis_channelPlugin""}",,,,,,,,
,"+{attribute=""SBinValue""}",,,,,,,,
,"+{isWriteSbin=""YES""}",,,,,,,,
,"+{Commands=""syscfg printbyte SBin""}",,,,,,,,
,"+{Input=SbinKey}",,,,,,,,
,"+{record=""false""}",,,,,,,,
Returns,soc_info,,,,,,,,
,soc_p_resp,,,,,,,,
,MEMORY_SIZE,,,,,,,,
,fuse_rev,,,,,,,,
,SbinKey,,,,,,,,
,SBin_status,,,,,,,,